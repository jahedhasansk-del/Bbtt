<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéØ WinGo 1M Live History</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f5f7fa;
    margin: 0;
    padding: 0;
    color: #333;
  }
  h2 {
    text-align: center;
    background: #ffd633;
    padding: 15px;
    margin: 0;
    color: #222;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
    background: white;
  }
  th, td {
    padding: 10px;
    text-align: center;
    border-bottom: 1px solid #ddd;
  }
  th {
    background: #ffcc00;
    font-weight: bold;
  }
  tr:nth-child(even) {
    background: #f9f9f9;
  }
  .big {
    color: green;
    font-weight: bold;
  }
  .small {
    color: red;
    font-weight: bold;
  }
  .color-dot {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    display: inline-block;
  }
  .red { background: red; }
  .green { background: green; }
  .violet { background: violet; }
  #last-update {
    text-align: center;
    margin: 10px 0;
    color: #555;
    font-size: 14px;
  }
</style>
</head>
<body>
  <h2>üéØ WinGo 1 Minute ‚Äî Latest 10 Results</h2>
  <div id="last-update">Loading...</div>

  <table>
    <thead>
      <tr>
        <th>Period</th>
        <th>Number</th>
        <th>Big/Small</th>
        <th>Color</th>
      </tr>
    </thead>
    <tbody id="tableBody">
      <tr><td colspan="4">Loading data...</td></tr>
    </tbody>
  </table>

<script>
async function loadData() {
  const ts = Date.now();
  const url = `https://api.allorigins.win/raw?url=${encodeURIComponent('https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json?ts=' + ts)}`;

  try {
    const res = await fetch(url);
    const data = await res.json();

    const list = data.data.list.slice(0, 10);
    const tbody = document.getElementById("tableBody");
    tbody.innerHTML = "";

    list.forEach(item => {
      const tr = document.createElement("tr");
      const shortPeriod = item.issue.slice(-5);
      const numColor = item.number >= 5 ? "green" : (item.number === 0 ? "violet" : "red");

      let colorDot = "red";
      if (item.color.includes("green")) colorDot = "green";
      if (item.color.includes("violet")) colorDot = "violet";

      tr.innerHTML = `
        <td>${shortPeriod}</td>
        <td style="color:${numColor}; font-weight:bold;">${item.number}</td>
        <td class="${item.bigSmall.toLowerCase()}">${item.bigSmall}</td>
        <td><span class="color-dot ${colorDot}"></span></td>
      `;
      tbody.appendChild(tr);
    });

    document.getElementById("last-update").innerText =
      "Last updated: " + new Date().toLocaleTimeString();

  } catch (err) {
    console.error("Error loading data:", err);
    document.getElementById("tableBody").innerHTML =
      `<tr><td colspan="4" style="color:red;">‚ö†Ô∏è Failed to load data</td></tr>`;
  }
}

// ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ 01 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
function scheduleUpdate() {
  const now = new Date();
  const seconds = now.getSeconds();
  const msUntilNext = ((60 - seconds + 1) % 60) * 1000; // ‡¶™‡¶∞‡ßá‡¶∞ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ 01 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°

  setTimeout(() => {
    loadData();
    setInterval(loadData, 61000); // ‡¶™‡ßç‡¶∞‡¶§‡¶ø 61 ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂
  }, msUntilNext);
}

loadData();
scheduleUpdate();
</script>
</body>
</html>
