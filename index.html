<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WinGo History</title>
<style>
  body {
    font-family: "Segoe UI", sans-serif;
    background: #f8f9fd;
    color: #333;
    margin: 0;
    padding: 20px;
  }
  h2 {
    text-align: center;
    background: #ffcc00;
    color: #333;
    padding: 15px;
    border-radius: 10px;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    background: #fff;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }
  th {
    background: #ffcc00;
    color: #333;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 12px;
    font-weight: bold;
  }
  td {
    text-align: center;
    padding: 12px;
    border-bottom: 1px solid #eee;
  }
  tr:nth-child(even) {
    background: #f9f9f9;
  }
  .big {
    color: green;
    font-weight: bold;
  }
  .small {
    color: red;
    font-weight: bold;
  }
  .color-dot {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    display: inline-block;
  }
  .red { background: red; }
  .green { background: green; }
  .violet { background: violet; }
  .loader {
    text-align: center;
    margin-top: 50px;
    font-weight: bold;
    color: #555;
  }
</style>
</head>
<body>
  <h2>üéØ WinGo 1M Live History</h2>
  <table id="historyTable">
    <thead>
      <tr>
        <th>Period</th>
        <th>Number</th>
        <th>Big Small</th>
        <th>Color</th>
      </tr>
    </thead>
    <tbody id="tableBody">
      <tr><td colspan="4" class="loader">Loading data...</td></tr>
    </tbody>
  </table>

<script>
const API_URL = "https://api.allorigins.win/raw?url=" + encodeURIComponent("https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json");

async function fetchHistory() {
  try {
    const res = await fetch(API_URL + "?ts=" + Date.now());
    const data = await res.json();
    const list = data.data.list.slice(0, 10);

    const tbody = document.getElementById("tableBody");
    tbody.innerHTML = "";

    list.forEach(item => {
      const tr = document.createElement("tr");

      // Period ‡¶õ‡ßã‡¶ü ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã
      const shortPeriod = item.issue.slice(-5);

      // Number color
      let numColor = "green";
      if (item.number < 5) numColor = "red";
      if (item.number == 0) numColor = "violet";

      // Color dot
      let colorClass = "red";
      if (item.color.includes("green")) colorClass = "green";
      if (item.color.includes("violet")) colorClass = "violet";

      tr.innerHTML = `
        <td>${shortPeriod}</td>
        <td style="color:${numColor}; font-weight:bold;">${item.number}</td>
        <td class="${item.bigSmall.toLowerCase()}">${item.bigSmall}</td>
        <td><span class="color-dot ${colorClass}"></span></td>
      `;

      tbody.appendChild(tr);
    });

  } catch (err) {
    console.error("Error:", err);
    document.getElementById("tableBody").innerHTML = `
      <tr><td colspan="4" class="loader" style="color:red;">‚ö†Ô∏è Failed to load data</td></tr>
    `;
  }
}

// ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶°
fetchHistory();

// ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá ‡ß® ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡¶¨‡ßá
setInterval(fetchHistory, 60000);
</script>
</body>
</html>
