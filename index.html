<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>WinGo History Live</title>
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
    min-height: 100vh;
    padding: 20px;
  }
  
  .container {
    max-width: 800px;
    margin: 0 auto;
  }
  
  h2 {
    color: #ffffff;
    text-align: center;
    margin-bottom: 20px;
    font-size: 24px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
  }
  
  .predictions-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 25px;
  }
  
  .prediction-container {
    background: #ffffff;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  }
  
  .prediction-header {
    padding: 12px;
    text-align: center;
  }
  
  .current-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }
  
  .previous-header {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  }
  
  .prediction-header h3 {
    color: #ffffff;
    font-size: 16px;
    margin: 0;
  }
  
  .prediction-content {
    padding: 20px;
    text-align: center;
  }
  
  .prediction-result {
    font-size: 36px;
    font-weight: bold;
    margin-bottom: 10px;
  }
  
  .prediction-big {
    color: #ff4444;
  }
  
  .prediction-small {
    color: #4CAF50;
  }
  
  .pattern-info {
    font-size: 13px;
    color: #555;
    background: #f8f9fa;
    padding: 8px;
    border-radius: 6px;
    margin-top: 8px;
  }
  
  .stats-container {
    background: #ffffff;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    margin-bottom: 25px;
    padding: 20px;
  }
  
  .stats-info {
    display: flex;
    justify-content: space-around;
  }
  
  .stat-item {
    text-align: center;
  }
  
  .stat-label {
    font-size: 12px;
    color: #666;
    margin-bottom: 5px;
    text-transform: uppercase;
  }
  
  .stat-value {
    font-size: 28px;
    font-weight: bold;
  }
  
  .stat-win {
    color: #4CAF50;
  }
  
  .stat-loss {
    color: #ff4444;
  }
  
  .table-container {
    background: #ffffff;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  }
  
  table {
    width: 100%;
    border-collapse: collapse;
  }
  
  thead {
    background: linear-gradient(135deg, #f6d365 0%, #fda085 100%);
  }
  
  th {
    padding: 15px;
    text-align: center;
    font-weight: 600;
    color: #333;
    font-size: 16px;
    text-transform: capitalize;
  }
  
  tbody tr {
    background: #ffffff;
    transition: all 0.3s ease;
  }
  
  tbody tr:nth-child(even) {
    background: #f8f9fa;
  }
  
  tbody tr:hover {
    background: #e3f2fd;
    transform: scale(1.01);
  }
  
  td {
    padding: 12px;
    text-align: center;
    color: #333;
    font-size: 14px;
    border-bottom: 1px solid #e0e0e0;
  }
  
  .period-cell {
    font-family: 'Courier New', monospace;
    font-size: 13px;
    color: #555;
  }
  
  .number-cell {
    font-size: 24px;
    font-weight: bold;
  }
  
  .color-cell {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 5px;
  }
  
  .color-dot {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: inline-block;
    border: 2px solid #ddd;
  }
  
  .red { background: #ff4444; }
  .green { background: #4CAF50; }
  .violet { background: #9C27B0; }
  
  .result-cell {
    font-weight: bold;
    font-size: 14px;
    padding: 8px 12px;
    border-radius: 5px;
  }
  
  .result-win {
    color: #4CAF50;
    background: #e8f5e9;
  }
  
  .result-loss {
    color: #ff4444;
    background: #ffebee;
  }
  
  .update-time {
    text-align: center;
    color: #ffffff;
    margin-top: 15px;
    font-size: 14px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
  }
  
  .refresh-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 15px 25px;
    border-radius: 50px;
    font-size: 16px;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    display: flex;
    align-items: center;
    gap: 8px;
    transition: transform 0.2s;
    z-index: 1000;
  }

  .refresh-btn:hover {
    transform: scale(1.05);
  }

  .refresh-btn:active {
    transform: scale(0.95);
  }

  .refresh-icon {
    font-size: 20px;
    transition: transform 0.5s;
  }
  
  .refresh-icon.spinning {
    animation: spin 0.5s linear;
  }
  
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
  
  .time-display {
    background: rgba(255, 255, 255, 0.2);
    padding: 15px 30px;
    border-radius: 25px;
    display: inline-block;
    margin-top: 10px;
    backdrop-filter: blur(10px);
  }
  
  .current-time {
    font-size: 32px;
    font-weight: bold;
    color: #ffd700;
    font-family: 'Courier New', monospace;
    letter-spacing: 2px;
  }
  
  .seconds-highlight {
    color: #ff4444;
    font-size: 36px;
    animation: pulse 1s infinite;
  }
  
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }
  
  .loading {
    text-align: center;
    padding: 20px;
    color: #666;
  }
  
  @media (max-width: 600px) {
    .predictions-wrapper {
      grid-template-columns: 1fr;
    }
    
    th, td {
      padding: 8px 4px;
      font-size: 12px;
    }
    
    .number-cell {
      font-size: 20px;
    }
    
    .period-cell {
      font-size: 11px;
    }
    
    .color-dot {
      width: 15px;
      height: 15px;
    }
    
    .prediction-result {
      font-size: 28px;
    }
    
    .refresh-btn {
      bottom: 15px;
      right: 15px;
      padding: 12px 20px;
      font-size: 14px;
    }
    
    .current-time {
      font-size: 24px;
    }
    
    .time-display {
      padding: 10px 20px;
    }
  }
</style>
</head>
<body>

<div class="container">
  <h2>🎯 WinGo 1 Minute - Latest 10 Results</h2>
  
  <div class="predictions-wrapper">
    <div class="prediction-container">
      <div class="prediction-header previous-header">
        <h3>📋 Previous Prediction</h3>
      </div>
      <div class="prediction-content">
        <div class="prediction-result" id="prevPred">
          <div class="loading" style="font-size: 14px;">Waiting...</div>
        </div>
        <div class="pattern-info" id="prevPat"></div>
      </div>
    </div>
    
    <div class="prediction-container">
      <div class="prediction-header current-header">
        <h3>🔮 Current Prediction</h3>
      </div>
      <div class="prediction-content">
        <div class="prediction-result" id="currPred">
          <div class="loading" style="font-size: 14px;">Analyzing...</div>
        </div>
        <div class="pattern-info" id="currPat"></div>
      </div>
    </div>
  </div>
  
  <div class="stats-container">
    <div class="stats-info">
      <div class="stat-item">
        <div class="stat-label">Win</div>
        <div class="stat-value stat-win" id="wc">0</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Loss</div>
        <div class="stat-value stat-loss" id="lc">0</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Total</div>
        <div class="stat-value" id="tc" style="color: #2196F3;">0</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Win Rate</div>
        <div class="stat-value" id="wr" style="color: #ff9800;">0%</div>
      </div>
    </div>
  </div>
  
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Period</th>
          <th>Number</th>
          <th>Big Small</th>
          <th>Color</th>
          <th>Result</th>
        </tr>
      </thead>
      <tbody id="tb">
        <tr>
          <td colspan="5" class="loading">Loading data...</td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <p class="update-time">
    <span class="time-display">
      <div class="current-time" id="rt">00:00:00</div>
    </span>
  </p>
</div>

<button class="refresh-btn" onclick="_r()">
  <span class="refresh-icon" id="ri">🔄</span>
  <span>Refresh</span>
</button>

<script>
(function() {
  const _0x4a=['\x42\x69\x67','\x53\x6d\x61\x6c\x6c','\x77\x69\x6e','\x6c\x6f\x73\x73'];
  let _p=null,_c=null,_h=[],_lp=null,_ct;
  
  const _k={
    s1:[2,4,5,9],
    s2:[1,3,4,5,7],
    u:'https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json',
    i:1000,
    m:59
  };

  const _x=(n)=>parseInt(n)>=5?_0x4a[0]:_0x4a[1];
  
  const _g=(n,c)=>{
    let a=[];
    if(c==='red')a.push('red');
    else if(c==='green')a.push('green');
    else if(c==='violet')a.push('violet');
    if(n===0){a.push('violet');a.push('red');}
    else if(n===5){a.push('violet');a.push('green');}
    return a;
  };

  const _a=(d)=>{
    let cs=0,cb=0;
    for(let i=0;i<d.length;i++){
      if(d[i]===_0x4a[1]){cs++;cb=0;}
      else if(d[i]===_0x4a[0]){cb++;cs=0;}
    }
    
    if(_k.s1.includes(cs)){
      return {p:_0x4a[0],t:`${cs} consecutive ${_0x4a[1]}`,m:true};
    }else if(_k.s2.includes(cb)){
      return {p:_0x4a[1],t:`${cb} consecutive ${_0x4a[0]}`,m:true};
    }else{
      return {p:cs>cb?_0x4a[0]:_0x4a[1],t:`${cs} ${_0x4a[1]}, ${cb} ${_0x4a[0]}`,m:false};
    }
  };

  const _u=()=>{
    const n=new Date();
    const h=String(n.getHours()).padStart(2,'0');
    const m=String(n.getMinutes()).padStart(2,'0');
    const s=String(n.getSeconds()).padStart(2,'0');
    const e=document.getElementById('rt');
    if(e){
      e.innerHTML=`${h}:${m}:<span class="seconds-highlight">${s}</span>`;
    }
    if(n.getSeconds()===_k.m){_l();}
  };

  const _s=()=>{
    _u();
    clearInterval(_ct);
    _ct=setInterval(_u,_k.i);
  };

  window._r=()=>{
    const ic=document.getElementById('ri');
    if(ic){
      ic.classList.add('spinning');
      setTimeout(()=>ic.classList.remove('spinning'),500);
    }
    _l();
  };

  const _l=async()=>{
    try{
      const t=new Date().getTime();
      const r=await fetch(`${_k.u}?ts=${t}`);
      const d=await r.json();
      let ls=[];
      if(d&&d.data&&d.data.list){ls=d.data.list.slice(0,10);}
      else if(d&&d.list){ls=d.list.slice(0,10);}
      else if(Array.isArray(d)){ls=d.slice(0,10);}

      const tb=document.getElementById("tb");
      tb.innerHTML="";

      if(ls.length===0){
        tb.innerHTML='<tr><td colspan="5" class="loading">No data available</td></tr>';
        return;
      }

      const tp=String(ls[0].issue||ls[0].period||ls[0].issueNo||ls[0].periodId||ls[0].issueNumber||'');
      const tn=String(ls[0].result||ls[0].number||ls[0].num||ls[0].openResult||'');
      const ts=_x(tn);

      const sh=ls.map(i=>{
        const rn=i.result||i.number||i.num||i.openResult||"?";
        return _x(rn);
      });

      const pd=_a(sh);
      _c=pd;

      if(_lp!==tp){
        if(_p){
          const im=_p.p===ts;
          const re={per:tp,pred:_p.p,act:ts,res:im?_0x4a[2]:_0x4a[3],num:tn};
          _h.unshift(re);
          if(_h.length>50){_h=_h.slice(0,50);}
        }
        _p={..._c};
        _lp=tp;
      }

      const pr=document.getElementById("prevPred");
      const pp=document.getElementById("prevPat");
      if(_p){
        pr.innerHTML=`<span class="prediction-${_p.p.toLowerCase()}">${_p.p}</span>`;
        pp.textContent=`📊 ${_p.t}`;
        if(_p.m){
          pp.style.background='#fff3cd';
          pp.style.color='#856404';
        }else{
          pp.style.background='#f8f9fa';
          pp.style.color='#555';
        }
      }

      const cr=document.getElementById("currPred");
      const cp=document.getElementById("currPat");
      cr.innerHTML=`<span class="prediction-${_c.p.toLowerCase()}">${_c.p}</span>`;
      cp.textContent=`📊 ${_c.t}`;
      if(_c.m){
        cp.style.background='#d4edda';
        cp.style.color='#155724';
      }else{
        cp.style.background='#f8f9fa';
        cp.style.color='#555';
      }

      let wc=0,lc=0;
      _h.forEach(e=>{
        if(e.res===_0x4a[2])wc++;
        if(e.res===_0x4a[3])lc++;
      });

      ls.forEach((it,ix)=>{
        const tr=document.createElement("tr");
        const tdp=document.createElement("td");
        tdp.className="period-cell";
        const pv=String(it.issue||it.period||it.issueNo||it.periodId||it.issueNumber||it.gameNo||it.drawNo||it.id||'');
        tdp.textContent=pv||"N/A";
        
        const rn=it.result||it.number||it.num||it.openResult||"?";
        const tdn=document.createElement("td");
        tdn.className="number-cell";
        const ns=document.createElement("span");
        const co=(it.color||it.colour||"").toLowerCase();
        if(co==='red'){ns.style.color='#ff4444';}
        else if(co==='green'){ns.style.color='#4CAF50';}
        else if(co==='violet'||co==='purple'){ns.style.color='#9C27B0';}
        ns.textContent=rn;
        tdn.appendChild(ns);
        
        const tds=document.createElement("td");
        tds.textContent=sh[ix];
        
        const tdc=document.createElement("td");
        tdc.className="color-cell";
        const nv=parseInt(rn);
        const cls=_g(nv,co);
        cls.forEach(c=>{
          const dt=document.createElement("span");
          dt.className=`color-dot ${c}`;
          tdc.appendChild(dt);
        });
        
        const tdr=document.createElement("td");
        const mr=_h.find(q=>String(q.per)===String(pv));
        if(mr){
          if(mr.res===_0x4a[2]){
            tdr.className="result-cell result-win";
            tdr.textContent="✅ WIN";
          }else{
            tdr.className="result-cell result-loss";
            tdr.textContent="❌ LOSS";
          }
        }else{
          tdr.textContent="-";
        }
        
        tr.appendChild(tdp);
        tr.appendChild(tdn);
        tr.appendChild(tds);
        tr.appendChild(tdc);
        tr.appendChild(tdr);
        tb.appendChild(tr);
      });

      const to=wc+lc;
      const wrt=to>0?Math.round((wc/to)*100):0;
      document.getElementById('wc').textContent=wc;
      document.getElementById('lc').textContent=lc;
      document.getElementById('tc').textContent=to;
      document.getElementById('wr').textContent=wrt+'%';
    }catch(e){
      document.getElementById("tb").innerHTML='<tr><td colspan="5" class="loading">Error loading data. Retrying...</td></tr>';
    }
  };

  _l();
  _s();
})();
</script>

</body>
</html>
